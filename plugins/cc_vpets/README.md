# 虚拟电子宠物插件文档

## 版本更新记录

### 当前版本功能

#### 宠物领养

- 随机获得一只数码宝贝
- 数码宝贝的欢迎招呼语
- 初始宠物卡片展示
- 功能交互提示语

#### 宠物命名

- 用户可以通过“宠物命名+姓名”的方式给宠物命名

#### 宠物状态

- 展示宠物基本状态
- 附加提示：通过特定互动指令维持宠物健康状态

#### 宠物签到

- 签到提示
- 经验值和等级提示
- 升级提示（如果有）

#### 宠物互动

- 已实现的互动指令：喂食、玩耍、体检、散步、训练、洗澡
- 限制互动频率：15分钟内最多3次
- 交互后返回宠物状态变化、金币变化、经验值变化和升级提示（如果有）

#### 我的宠物

- 查看宠物卡片全貌

#### 随机事件

- 在查看宠物状态或交互中可能触发，带来奖励或惩罚

### 持续改进和新增功能

#### 数据持久化

- 实现数据本地存储，保证宠物信息不丢失

#### 状态衰减机制

- 每30分钟宠物状态自动衰减一次，后续将改善衰减逻辑

#### 升级提示改进

- 宠物属性升级提示，后续将引入成长曲线

#### 宠物卡片差异化

- 后续版本中，宠物初始卡片将展现属性差异

#### 交流表达逻辑

- 引入OpenAI Gemini模型支持宠物交流表达逻辑

#### 未来规划

- 考虑增加任务系统以获取金币
- 考虑引入战斗系统以获取经验值

## 使用指南

### 如何领养宠物

1. 进入插件后，选择“领养宠物”选项。
2. 系统将随机分配一只数码宝贝，并展示其欢迎招呼语及初始卡片。

### 如何命名宠物

1. 在领养宠物后，输入“宠物命名+你想要的名字”来命名你的宠物。

### 如何查看宠物状态

1. 选择“我的宠物”或相关选项来查看宠物的基本状态。

### 如何进行宠物签到

1. 每天进入插件，选择“宠物签到”进行签到。
2. 系统将提示签到成功，并显示经验值、等级变化和升级信息（如果有）。

### 如何与宠物互动

1. 选择互动指令进行互动，如喂食、玩耍等。
2. 注意互动频率限制，每15分钟内最多进行3次。

### 如何触发随机事件

1. 随机事件在查看宠物状态或互动时自动触发。
2. 事件结果可能是奖励也可能是惩罚，具体取决于随机机制。

### 如何参与任务和战斗（未来功能）

- 待开发功能，详细指南将在功能上线后提供。

## 开发者说明

- 本插件使用OpenAI Gemini模型支持宠物的交流逻辑。
- 宠物的状态和数据通过本地存储进行持久化。
- 我们致力于提供更多互动性和游戏性，未来将推出任务和战斗系统。

## 更新日志

- 2023-12-22: 引入任务系统和战斗系统（预计）
- 2023-12-22: 宠物卡片差异化和成长曲线
- 2023-12-22: 数据持久化和状态衰减逻辑更新
- 更多...

---

请注意，此文档可能随软件更新而变动。最新信息请参考官方发布的最新文档。



这代码定义了一个 `VirtualPet` 类，模拟了一个虚拟宠物的基本功能，如升级、进化、状态变化、随机事件等。它还包括了一个交互窗口的概念，限制用户在一定时间内与宠物的互动次数。此外，还有一个 `main` 函数，用于创建一个宠物实例并模拟增加经验值的过程。

这个类的方法包括：

- `__init__`：构造函数，初始化宠物的基本属性。
- `load_upgrade_routes`：加载宠物的进化路线数据。
- `to_json`：将宠物的状态转换为 JSON 格式。
- `decay_stats_over_time`：随时间衰减宠物的状态值。
- `get_available_species`：获取可用的宠物种类。
- `gain_experience`：宠物获得经验值。
- `level_up`：宠物升级。
- `next_level_exp`：计算到达下一级所需的经验值。
- `update_species`：更新宠物的种类（进化）。
- `complete_task`：宠物完成任务并获得金币。
- `daily_sign_in`：宠物的日常签到功能。
- `feed`、`play`、`checkup`、`walk`、`train`、`bathe`：宠物的日常互动方法，影响状态和资源。
- `normalize_stats`：规范化宠物的状态值。
- `status`：显示宠物的当前状态。
- `format_status_changes`：格式化宠物状态的变化。
- `interact_with_user`：处理用户与宠物的交互。
- `random_event`：随机事件的发生。
- `display_pet_card`：显示宠物的详细信息卡片。
